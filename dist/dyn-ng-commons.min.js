!function(){"use strict";angular.module("dyn.commons",["ngStorage"])}(),function(){"use strict";function n(){function n(n,e,t){n.$watch(function(){return n.$eval(t.btnLoading)},function(n){n?e.button("loading"):e.button("reset")})}var e={link:n};return e}angular.module("dyn.commons").directive("btnLoading",n)}(),function(){"use strict";function n(n){function e(e,t,r,o){function i(n){var e=n.toLocaleString(void 0,{minimumFractionDigits:d}).split(l).join(""),t=e.split(f),r="";t.length>1&&(r=t[1]);for(var o=d-r.length;o>0;o--)r+="0";return t[0]+f+r}function u(n){if(""===n||"-"===n)return p=n,n;var e=g.exec(n);if(null!==e){e=e[0];var t=e.split(",")[0],r=m-d;"-"===t[0]&&r++,t.length<=r?p=e:e=p}else e=p;return e!=n&&(o.$setViewValue(e),o.$render()),c(e)}function c(n){return n&&"number"!=typeof n?Number(n.split(l).join("").replace(f,".")):n}function a(){if(o.$modelValue&&!o.$invalid)return i(o.$modelValue)}function s(){if(o.$modelValue&&!o.$invalid){var n=i(o.$modelValue);n&&(o.$setViewValue(n),o.$render())}}var f=n.NUMBER_FORMATS.DECIMAL_SEP||",",l=n.NUMBER_FORMATS.GROUP_SEP||".",m=e.precision||12,d=e.scale||2,v="^-?[0-9]{1,"+(m-d)+"}\\"+f+"?([0-9]{1,"+d+"})?",g=new RegExp(v),p="";o.$parsers.push(u),o.$formatters.push(a),t.on("blur",s),t.on("focus",s)}return{restrict:"A",require:"ngModel",scope:{precision:"@",scale:"@"},link:e}}angular.module("dyn.commons").directive("dynDecimalsLocale",n),n.$inject=["$locale"]}(),function(){"use strict";function n(){function n(n,e,t,r){function o(n){if(r.$modelValue&&r.$valid&&"number"==typeof i)return r.$modelValue.toFixed(i)}var i=parseInt(n.decimals)||2;r.$render=function(){var n=o(r);n&&e.val(n)},e.on("blur",function(n){var e=o(r);e&&(r.$setViewValue(e),r.$render())}),e.on("focus",function(n){var e=o(r);e&&(r.$setViewValue(e),r.$render())})}return{restrict:"A",require:"ngModel",scope:{decimals:"@"},link:n}}angular.module("dyn.commons").directive("dynDecimals",n)}(),function(){"use strict";function n(){function n(n,e,t,r){n.$watch("trigger",function(t){t===!0&&(e[0].focus(),n.trigger=!1)})}var e={scope:{trigger:"=focusMe"},link:n};return e}angular.module("dyn.commons").directive("focusMe",n)}(),function(){"use strict";function n(){function n(n,e,t){e.bind("keydown keypress",function(e){13===e.which&&(n.$apply(function(){n.$eval(t.dynOnEnter,{event:e})}),e.preventDefault())})}return{restrict:"A",link:n}}angular.module("dyn.commons").directive("dynOnEnter",n)}(),function(){"use strict";function n(){function n(n,e,t){var r=!t;return"string"==typeof n&&moment(n,e,r).isValid()?moment(n,e).toDate():n}function e(n,e){return"[object Date]"===Object.prototype.toString.call(n)?moment(n).format(e):moment.isMoment(n)?n.format(e):void 0}function t(n){r(n,i.TIMEZONE_AMERICA_SAO_PAULO,i.FORMAT_ISO8601)}function r(n,e,t){if("object"!=typeof n)return n;for(var o in n)if(n.hasOwnProperty(o)&&"$"!==o.charAt(0)){var i=n[o];"string"==typeof i&&moment(i,t,!0).isValid()?n[o]=moment(i,t).tz(e).toDate():"object"==typeof i&&r(i,e,t)}}function o(n){var e=new Date(n.getTime());return e.setHours(23,59,59,999),e}var i=this;i.TIMEZONE_AMERICA_SAO_PAULO="America/Sao_Paulo",i.ISO8601="YYYY-MM-DDTHH:mmZZ",i.ISO_LOCAL_DATE="YYYY-MM-DD",i.ISO_LOCAL_DATE_TIME="YYYY-MM-DDTHH:mm:ss",i.ISO_ZONED_DATE_TIME="YYYY-MM-DDTHH:mm:ssZ",i.ISO_RFC822_ZONED_DATE_TIME="YYYY-MM-DDTHH:mm:ssZZ",i.parse=n,i.format=e,i.parseObjectDateStringsToDates=t,i.setEndOfDay=o}function e(n){moment.fn.toJSON=function(){return this.utc().format(n.FORMAT_ISO8601)},Date.prototype.toJSON=function(){return moment(this).utc().format(n.FORMAT_ISO8601)}}angular.module("dyn.commons").service("DateHelper",n).run(e),n.$inject=[],e.$inject=["DateHelper"]}(),function(){"use strict";function n(n,e){function t(){n.$on("$stateChangeStart",r)}function r(n,t,r,c,a,s){function f(n){var r=n.dynViewStorage,o=r.linkedStates.some(function(n){return n===t.name});return!o&&n.name!==t.name&&(r.viewsMapped?r.viewsMapped.forEach(e.removeView):e.removeView(n.name),!0)}function l(){u.forEach(function(n){f(n)&&o(n.name)})}var m=c.dynViewStorage;if(!m||!m.linkedStates)return void l();var d=f(c);l(),d||i(c.name)||u.push(c)}function o(n){u.some(function(e,t){if(e.name===n)return u.splice(t,1),!0})}function i(n){return u.some(function(e){return e.name===n})}var u=[];t()}angular.module("dyn.commons").run(n),n.$inject=["$rootScope","dynViewStorage"]}(),function(){"use strict";function n(n,e){function t(e,t,r){var o=a(e)||{};o[t]=r,n[e]=o}function r(n,e){if(i(n))return a(n)[e]}function o(n,e){var t=r(n,e);return void 0!==t&&null!==t}function i(n){var e=a(n);return void 0!==e&&null!==e}function u(n,e){return t(n,e,void 0)}function c(e){n[e]=null}function a(e){if(!e)throw new Error("viewId não possui um valor válido: "+e);return n[e]}return{set:t,get:r,remove:u,has:o,hasView:i,removeView:c}}angular.module("dyn.commons").factory("dynViewStorage",n),n.$inject=["$sessionStorage","DateHelper"]}(),function(){"use strict";function n(){function n(n,e,t){return n&&e?n.length<=e?n:n.substring(0,e)+(t||" ..."):""}return n}angular.module("dyn.commons").filter("cutString",n)}(),function(){"use strict";function n(){function n(n){return String(n).replace(/[&<>"'\/]/g,function(n){return e[n]})}var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return n}angular.module("dyn.commons").filter("htmlScape",n)}(),function(){"use strict";function n(){function n(n,e,t,r){var o=r;if(void 0!==o&&null!==o||(o="-"),!n)return o;var i=e||"key",u=t||"value",c=[];return n[i]&&c.push(n[i]),n[u]&&c.push(n[u]),c.join(" - ")||o}return n}angular.module("dyn.commons").filter("keyValue",n)}();